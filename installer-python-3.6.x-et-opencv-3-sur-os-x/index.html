<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Olivier Eeckhoutte">
<meta name="description" content="Comme l&#39;installatin d&#39;OpenCV n&#39;est vraiment pas aisée. J&#39;ai donc décidé d&#39;écrire cet article. Si vous suivez cette procédure vous devriez pouvoir faire tourner OpenCV 3 sur OSX High Sierra dans un environnement virtuel.
Il s&#39;agit du deuxième article que j&#39;écris sur l&#39;installation d&#39;OpenCV. Cette article se focalise sur l&#39;installation d&#39;OpenCV 3 pour Python 3.6.x. Si vous souhaitez installer OpenCV 3 pour python 2.7.x, vous pouvez lire mon autre article.
Pré-requis  Xcode doit être installé Xcode a déjà dû être démarré et vous avez accepté les conditions générales Les commandes lines tools ont déjà été installés." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="#252627" />
<script>
    
    
    if (!(window.location.host.startsWith("127.0.0.1")) && !(window.location.host.startsWith("localhost"))) {
        if (window.location.protocol != "https:") {
            console.log("Redirecting to https...")
            window.location.protocol = "https";
        }
    }
</script>
<link rel="canonical" href="https://leandeep.com/installer-python-3.6.x-et-opencv-3-sur-os-x/" />


    <title>
        
            Installer Python 3.6.x et OpenCV 3 sur OS X :: Bienvenue sur le site de Lean Deep 
        
    </title>



<link href="//cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://leandeep.com/main.min.76b2f8e1bc1c6e8b40b499ecd059c58ca8f1651ea64d3dbd8aecaf5ea0278c20.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://leandeep.com/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://leandeep.com/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://leandeep.com/favicon-16x16.png">
    <link rel="manifest" href="https://leandeep.com/site.webmanifest">
    <link rel="mask-icon" href="https://leandeep.com/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="https://leandeep.com/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">

<meta itemprop="name" content="Installer Python 3.6.x et OpenCV 3 sur OS X">
<meta itemprop="description" content="Comme l&#39;installatin d&#39;OpenCV n&#39;est vraiment pas aisée. J&#39;ai donc décidé d&#39;écrire cet article. Si vous suivez cette procédure vous devriez pouvoir faire tourner OpenCV 3 sur OSX High Sierra dans un environnement virtuel.
Il s&#39;agit du deuxième article que j&#39;écris sur l&#39;installation d&#39;OpenCV. Cette article se focalise sur l&#39;installation d&#39;OpenCV 3 pour Python 3.6.x. Si vous souhaitez installer OpenCV 3 pour python 2.7.x, vous pouvez lire mon autre article.
Pré-requis  Xcode doit être installé Xcode a déjà dû être démarré et vous avez accepté les conditions générales Les commandes lines tools ont déjà été installés.">
<meta itemprop="datePublished" content="2018-02-06T23:05:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-02-06T23:05:00&#43;00:00" />
<meta itemprop="wordCount" content="704">
<meta itemprop="image" content="https://leandeep.com"/>



<meta itemprop="keywords" content="Python," /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://leandeep.com"/>

<meta name="twitter:title" content="Installer Python 3.6.x et OpenCV 3 sur OS X"/>
<meta name="twitter:description" content="Comme l&#39;installatin d&#39;OpenCV n&#39;est vraiment pas aisée. J&#39;ai donc décidé d&#39;écrire cet article. Si vous suivez cette procédure vous devriez pouvoir faire tourner OpenCV 3 sur OSX High Sierra dans un environnement virtuel.
Il s&#39;agit du deuxième article que j&#39;écris sur l&#39;installation d&#39;OpenCV. Cette article se focalise sur l&#39;installation d&#39;OpenCV 3 pour Python 3.6.x. Si vous souhaitez installer OpenCV 3 pour python 2.7.x, vous pouvez lire mon autre article.
Pré-requis  Xcode doit être installé Xcode a déjà dû être démarré et vous avez accepté les conditions générales Les commandes lines tools ont déjà été installés."/>





    <meta property="article:published_time" content="2018-02-06 23:05:00 &#43;0000 &#43;0000" />








    </head>

    <body class="">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://leandeep.com/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/leandeep</span>
            <span class="logo__cursor" style=""></span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://leandeep.com/events/">Featured Articles</a></li><li><a href="https://leandeep.com/posts/">All Articles</a></li><li><a href="https://leandeep.com/cv/">CV</a></li><li><a href="https://leandeep.com/twitter/">Twitter</a></li><li><a href="https://leandeep.com/tips/">Tips</a></li><li><a href="https://leandeep.com/notebooks/">Notebooks</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>4 minutes

            

            </p>
        </div>

        <article>
            <h1 class="post-title">
                <a href="https://leandeep.com/installer-python-3.6.x-et-opencv-3-sur-os-x/">Installer Python 3.6.x et OpenCV 3 sur OS X</a>
            </h1>

            

            <div class="post-content">
                <p>Comme l'installatin d'OpenCV n'est vraiment pas aisée. J'ai donc décidé d'écrire cet article. Si vous suivez cette procédure vous devriez pouvoir faire tourner OpenCV 3 sur OSX High Sierra dans un environnement virtuel.</p>
<p>Il s'agit du deuxième article que j'écris sur l'installation d'OpenCV. Cette article se focalise sur l'installation d'OpenCV 3 pour Python 3.6.x. Si vous souhaitez installer OpenCV 3 pour python 2.7.x, vous pouvez lire <a href="http://blog.leandeep.com/installer-python-2-7-x-et-opencv-3-sur-os-x/">mon autre article</a>.</p>
<h1 id="pr-requis">Pré-requis</h1>
<ul>
<li>Xcode doit être installé</li>
<li>Xcode a déjà dû être démarré et vous avez accepté les conditions générales</li>
<li>Les commandes lines tools ont déjà été installés. Si ce n'est pas le cas exécutez la commande suivante: $ sudo xcode-select &ndash;install</li>
<li><a href="https://brew.sh/index_fr.html">Homebrew</a> doit être installé</li>
</ul>
<h1 id="installer-python-3">Installer Python 3</h1>
<p>Même si Python est déjà installé sur votre Mac, installez le une nouvelle fois avec Homebrew:</p>
<pre><code>$ brew install python3
</code></pre><p>Vérifiez que Python 3 et pip fonctionnent.</p>
<pre><code>$ python3 --version
$ pip3 --version
</code></pre><p>Vérifiez aussi que ce sont bien les nouvelles versions de Python et pip qui sont utilisées</p>
<pre><code>$ which python3
$ which pip3
</code></pre><h1 id="crer-un-environnement-virtuel">Créer un environnement virtuel</h1>
<pre><code>$ pip3 install virtualenv virtualenvwrapper # /!\ il se peut que sudo soit nécessaire
</code></pre><p>Ajoutez les lignes suivantes dans votre ~/.zshrc (ou ~/.bash_profile)</p>
<pre><code># Support d'environnements virtuels pour Python 3
export VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python3
source /usr/local/bin/virtualenvwrapper.sh
</code></pre><p>Une fois ces lignes ajoutées, &ldquo;rechargez&rdquo; votre terminal en exécutant la commande suivante:</p>
<pre><code>$ source ~/.zshrc # ou $ source ~/.bash_profile
</code></pre><p>Vous pouvez maintenant créer votre environnement virtuel pour OpenCV 3 et Python 3</p>
<pre><code>$ mkvirtualenv py3_cv3 -p python3
</code></pre><p>Une fois créé, fermez votre terminal et réouvrez en un nouveau.
Par défault vous n'êtes pas dans l'environnement Python que vous avez créé. Si vous souhaitez rentrer dedans, utilisez la commande suivante:</p>
<pre><code>$ workon py3_cv3
</code></pre><p>Si tout se passe bien, votre prompt du terminal sera préfixé du nom de votre environnement entre parenthèses.</p>
<p><em>Remarquez que vous n'avez pas besoin d'utiliser pip3 dans cet environnement virtuel. La commande $ pip &ndash;version nous indique bien que pip est lié à Python 3.6.x. En dehors de cet environnement virtuel vous devrez utiliser pip3 pour que des librairies liées à Python 3 soient téléchargées.</em></p>
<p>Si vous souhaitez quitter votre environnement virtuel utilisez la commande suivante:</p>
<pre><code>$ deactivate
</code></pre><p><em>Pour tout ce qui suit, travaillez dans le nouvel environnement virtuel que l'on vient de créer</em></p>
<h1 id="installer-numpy">Installer Numpy</h1>
<p>Numpy est une bibliothèque très connue de calculs scientiques nécessaire pour OpenCV.</p>
<pre><code>pip install numpy
</code></pre><h1 id="installer-les-pr-requis--opencv-3">Installer les pré-requis à OpenCV 3</h1>
<p>Pour qu'on OpenCV 3 fonctionne certains pré-requis sont nécessaires.
Heureusement l'installation de ces pré-requis est aisée grâce à Homebrew.</p>
<pre><code>$ brew install cmake pkg-config # Nécessaire pour compiler OpenCV
$ brew install jpeg libpng libtiff openexr # Nécessaire pour manipuler les images 
$ brew install eigen # Nécessaire pour faire des calculs algébriques
$ brew install tbb # Nécessaire pour faire les calculs parallèles
</code></pre><h1 id="installer-opencv">Installer OpenCV</h1>
<p>Commencez par télécharger OpenCV. Il y a 2 repositories git à cloner.
(Vous n'avez pas besoin de tout l'historique du repository)</p>
<pre><code>$ cd
$ git clone https://github.com/opencv/opencv --depth 1
$ git clone https://github.com/opencv/opencv_contrib --depth 1
</code></pre><p>Vous allez maintenant pouvoir builder OpenCV.</p>
<pre><code>$ cd ~/opencv
$ mkdir build
$ cd build

# Configuration
$ cmake -D CMAKE_BUILD_TYPE=RELEASE \
    -D CMAKE_INSTALL_PREFIX=/usr/local \
    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib/modules \
    -D PYTHON3_LIBRARY=`python -c 'import subprocess ; import sys ; s = subprocess.check_output(&quot;python-config --configdir&quot;, shell=True).decode(&quot;utf-8&quot;).strip() ; (M, m) = sys.version_info[:2] ; print(&quot;{}/libpython{}.{}.dylib&quot;.format(s, M, m))'` \
    -D PYTHON3_INCLUDE_DIR=`python -c 'import distutils.sysconfig as s; print(s.get_python_inc())'` \
    -D PYTHON3_EXECUTABLE=$VIRTUAL_ENV/bin/python \
    -D BUILD_opencv_python2=OFF \
    -D BUILD_opencv_python3=ON \
    -D INSTALL_PYTHON_EXAMPLES=ON \
    -D INSTALL_C_EXAMPLES=OFF \
    -D BUILD_EXAMPLES=ON ..

# Compilation
$ make -j4 # -j4 permet d'utiliser les 4 cœurs de mon Mac lors de la compilation

# Installation
$ sudo make install

# Symlink
$ cd /usr/local/lib/python3.6/site-packages
$ ls -l | grep cv2.cpython-36m-darwin.so # Vérifiez que le fichier cv2.cpython-36m-darwin.so est bien présent
$ cd ~/.virtualenvs/py3_cv3/lib/python3.6/site-packages
$ ln -s /usr/local/lib/python3.6/site-packages/cv2.cpython-36m-darwin.so cv2.so
</code></pre><h1 id="vrification-de-linstallation">Vérification de l'installation</h1>
<p>Ouvrez un nouveau terminal et vérifiez que l'installation d'OpenCV fonctionne dans votre environnement virtuel.</p>
<pre><code>$ workon py3_cv3
$ python
&gt;&gt;&gt; import cv2
&gt;&gt;&gt; cv2.__version__
'3.4.0-dev'
&gt;&gt;&gt; Ctrl-D
</code></pre><p>Et voilà l'installation d'OpenCV 3 pour Python 3.6.x est terminée!
J'espère que vous ne rencontrerez pas de problème et que je vous aurais fait gagner des heures; tout comme avec mon autre article sur l&rsquo;<a href="http://blog.leandeep.com/installer-python-2-7-x-et-opencv-3-sur-os-x/">installation d'OpenCV 3 pour Python 2.7.x</a> !</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
                <p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><span class="tag"><a href="https://leandeep.com/tags/python">Python</a></span>
                </p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>704 Mots</p>

            <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>06 Feb. 2018</p>
        </div>

        
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h"></span>
                    <hr />
                </div>

                <div class="pagination__buttons">
                    
                        <span class="button previous">
                            <a href="https://leandeep.com/installer-keras-et-tensorflow-sur-os-x/">
                                <span class="button__icon">←</span>
                                <span class="button__text">Installer Keras (et Tensorflow) sur OS X</span>
                            </a>
                        </span>
                    

                    
                        <span class="button next">
                            <a href="https://leandeep.com/installer-python-2.7.x-et-opencv-3-sur-os-x/">
                                <span class="button__text">Installer Python 2.7.x et OpenCV 3 sur OS X</span>
                                <span class="button__icon">→</span>
                            </a>
                        </span>
                    
                </div>
            </div>
        

        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>Réalisé par <a href="https://www.linkedin.com/in/oliviereeckhoutte/">Olivier Eeckhoutte</a>, gérant de Lean Deep</span>
            <span>Siret: 83825337500011</span>
            
            <span> <a href="https://leandeep.com/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="https://leandeep.com/bundle.min.016c8e5770e17fd1303ca7a9b80f022e42cc24b9e07f33b1c0de276576fccde3dfc4c7698f10f2d1443d2465f6d58d4470aff0782daef69e7172da8a75ff41b1.js" integrity="sha512-AWyOV3Dhf9EwPKepuA8CLkLMJLngfzOxwN4nZXb8zePfxMdpjxDy0UQ9JGX21Y1EcK/weC2u9p5xctqKdf9BsQ=="></script>



    </body>
</html>
